!function(a){woodmartThemeModule.$document.on("wdQuickShopSuccess wdQuickViewOpen wdUpdateWishlist",function(){woodmartThemeModule.swatchesVariations()}),a.each(["frontend/element_ready/wd_single_product_add_to_cart.default"],function(b,c){woodmartThemeModule.wdElementorAddAction(c,function(b){b.find(".variations_form").each(function(){a(this).wc_variation_form()}),woodmartThemeModule.swatchesVariations()})}),woodmartThemeModule.swatchesVariations=function(){woodmartThemeModule.setupMainCarouselArg();var b=a(".variations_form"),c=!1,d=!1,e=b.data("product_variations"),f=!1===e;a(".variations_form .label").on("click",function(b){a(this).siblings(".value").hasClass("with-swatches")&&b.preventDefault()}),b.each(function(){var b=a(this);b.data("swatches")||(b.data("swatches",!0),b.data("product_variations")||b.find(".swatches-select").find("> div").addClass("swatch-enabled"),a(".swatches-select > div").hasClass("active-swatch")&&b.addClass("variation-swatch-selected"),b.on("click",".swatches-select > div",function(){var c=a(this),d=c.data("value"),e=c.parent().data("id"),f=c.data("title");g(b),c.hasClass("active-swatch")||c.hasClass("swatch-disabled")||(b.find("select#"+e).val(d).trigger("change"),c.parent().find(".active-swatch").removeClass("active-swatch"),c.addClass("active-swatch"),g(b),("yes"===woodmart_settings.swatches_labels_name&&woodmartThemeModule.$window.width()>=769||woodmartThemeModule.$window.width()<=768)&&(c.parents("tr").find(" > th .wd-attr-selected").remove(),c.parents("tr").find(" > th").append('<span class="wd-attr-selected">'+f+"</span>")))}).on("woocommerce_update_variation_values",function(){g(b)}).on("click",".reset_variations",function(){b.find(".active-swatch").removeClass("active-swatch"),("yes"===woodmart_settings.swatches_labels_name&&woodmartThemeModule.$window.width()>=769||woodmartThemeModule.$window.width()<=768)&&b.find(".wd-attr-selected").html("")}).on("reset_data",function(){var d=a(this),e=!0,f=!1;b.find(".variations select").each(function(){0===(d.val()||"").length?e=!1:f=!0}),e&&d.parent().find(".active-swatch").removeClass("active-swatch"),b.removeClass("variation-swatch-selected");var i=a(".woocommerce-product-gallery__wrapper.owl-carousel"),k=a(".woocommerce-product-gallery");if(g(b),p("default",b),i.hasClass("owl-carousel")){"yes"===woodmart_settings.product_slider_auto_height?(!h()&&j("default",b)&&c&&i.trigger("destroy.owl.carousel"),a(".product-images").imagesLoaded(function(){i=i.owlCarousel(woodmartThemeModule.mainCarouselArg),i.trigger("refresh.owl.carousel")})):(i=i.owlCarousel(woodmartThemeModule.mainCarouselArg),i.trigger("refresh.owl.carousel"));var l=k.hasClass("thumbs-position-centered")?woodmart_settings.centered_gallery_start:0;h()&&(l=0),i.trigger("to.owl.carousel",l),woodmartThemeModule.$document.trigger("wdResetVariation")}}).on("found_variation",function(a,c){f&&p(c.variation_id,b,c)}).on("reset_image",function(){var c=a(".thumbnails .product-image-thumbnail img").first();h()||i(b)||c.wc_reset_variation_attr("src")}).on("show_variation",function(e,f){if(("yes"===woodmart_settings.swatches_labels_name&&woodmartThemeModule.$window.width()>=769||woodmartThemeModule.$window.width()<=768)&&!d&&(b.find(".active-swatch").each(function(){var b=a(this),c=b.data("title");b.parents("tr").find(".wd-attr-selected").html(c)}),d=!0),f.image.src){var g=b.parents(".single-product-content").find('.thumbnails .product-image-thumbnail img[data-o_src="'+f.image.thumb_src+'"]').length>0,k=b.parents(".single-product-content").find(".thumbnails .product-image-thumbnail img").first(),l=b.parents(".single-product-content").find(".woocommerce-product-gallery .woocommerce-product-gallery__image > a").first().data("o_href");g&&k.wc_reset_variation_attr("src"),i(b)||p(f.variation_id,b)||(k.attr("src")!==f.image.thumb_src&&k.wc_set_variation_attr("src",f.image.src),woodmartThemeModule.$document.trigger("wdShowVariationNotQuickView")),b.addClass("variation-swatch-selected"),i(b)||h()||l===f.image.full_src||n();var m=a(".woocommerce-product-gallery__wrapper.owl-carousel");if(m.hasClass("owl-carousel")){"yes"===woodmart_settings.product_slider_auto_height?(!h()&&j(f.variation_id,b)&&c&&m.trigger("destroy.owl.carousel"),a(".product-images").imagesLoaded(function(){m=m.owlCarousel(woodmartThemeModule.mainCarouselArg),m.trigger("refresh.owl.carousel")})):(m=m.owlCarousel(woodmartThemeModule.mainCarouselArg),m.trigger("refresh.owl.carousel"));var o=a(".images .thumbnails");m.trigger("to.owl.carousel",0),o.hasClass("owl-carousel")?(o.owlCarousel().trigger("to.owl.carousel",0),o.find(".active-thumb").removeClass("active-thumb"),o.find(".product-image-thumbnail").eq(0).addClass("active-thumb")):o.hasClass("slick-slider")&&(o.slick("slickGoTo",0),o.find(".product-image-thumbnail").eq(0).hasClass("active-thumb")||(o.find(".active-thumb").removeClass("active-thumb"),o.find(".product-image-thumbnail").eq(0).addClass("active-thumb")))}}}))});var g=function(b){b.data("product_variations")&&b.find(".variations select").each(function(){var b=a(this),c=b.parent().find(".swatches-select"),d=b.html();d=a(d),c.find("> div").removeClass("swatch-enabled").addClass("swatch-disabled"),d.each(function(){var b=a(this).val();a(this).hasClass("enabled")?c.find('div[data-value="'+b+'"]').removeClass("swatch-disabled").addClass("swatch-enabled"):c.find('div[data-value="'+b+'"]').addClass("swatch-disabled").removeClass("swatch-enabled")})})},h=function(){return a(".single-product-content").hasClass("product-quick-view")},i=function(a){return a.parent().hasClass("quick-shop-form")},j=function(a,b){return"old"===woodmart_settings.variation_gallery_storage_method?k(a):l(a,b)},k=function(a){if("undefined"!=typeof woodmart_variation_gallery_data||"undefined"!=typeof woodmart_qv_variation_gallery_data){var b=h()?woodmart_qv_variation_gallery_data:woodmart_variation_gallery_data;return void 0!==b&&b&&b[a]}},l=function(a,b){var c=o(b);return void 0!==c&&c&&c[a]&&c[a].length>1},m=function(a){return void 0!==a&&a&&a[key]&&a[key].length>1},n=function(){if(0!==a(".woocommerce-product-gallery__wrapper").length&&("yes"===woodmart_settings.swatches_scroll_top_desktop&&woodmartThemeModule.$window.width()>=1024||"yes"===woodmart_settings.swatches_scroll_top_mobile&&woodmartThemeModule.$window.width()<=1024)){var b=a("html, body");b.stop(!0),woodmartThemeModule.$window.on("mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){b.stop(!0)}),b.animate({scrollTop:a(".woocommerce-product-gallery__wrapper").offset().top-150},800),a(".wd-swatch").tooltip("hide")}},o=function(a,b){void 0===b&&(b=!1);var c=a.data("product_variations");b&&(c=b),c||(c=a.data("wd_product_variations"));var d=[];return c?("object"!=typeof c||Array.isArray(c)?("string"==typeof c&&(c=JSON.parse(c)),c.forEach(function(a){d[a.variation_id]=a.additional_variation_images,d.default=a.additional_variation_images_default})):(d[c.variation_id]=c.additional_variation_images,d.default=c.additional_variation_images_default,a.data("wd_product_variations",JSON.stringify([{additional_variation_images_default:c.additional_variation_images_default}]))),d):d},p=function(b,d,e){if(void 0===e&&(e=!1),"old"===woodmart_settings.variation_gallery_storage_method){if(!j(b,d)||i(d)||"default"===b&&!c)return!1;q(b,d)}else{if(!j(b,d)&&!e||e&&!m||i(d)||"default"===b&&!c)return!1;var f=o(d,e);r(f[b],d)}return a(".woocommerce-product-gallery__image").trigger("zoom.destroy"),woodmartThemeModule.$document.trigger("wdReplaceMainGallery"),h()||woodmartThemeModule.$document.trigger("wdReplaceMainGalleryNotQuickView"),c="default"!==b,woodmartThemeModule.$window.trigger("resize"),!0},q=function(a,b){var c=h()?woodmart_qv_variation_gallery_data:woodmart_variation_gallery_data,d=c[a],e=b.parents(".single-product-content").find(".woocommerce-product-gallery__wrapper");e.empty();for(var f=0;f<d.length;f++){var g='<div class="product-image-wrap"><figure data-thumb="'+d[f].data_thumb+'" class="woocommerce-product-gallery__image">';h()||(g+='<a href="'+d[f].href+'">'),g+=d[f].image,h()||(g+="</a>"),g+="</figure></div>",e.append(g)}},r=function(a,b){var c=b.parents(".product").find(".woocommerce-product-gallery__wrapper");c.empty();for(var d in a)if(a.hasOwnProperty(d)){var e='<div class="product-image-wrap"><figure class="woocommerce-product-gallery__image" data-thumb="'+a[d].thumbnail_src+'">';h()||(e+='<a href="'+a[d].full_src+'" data-elementor-open-lightbox="no">');var f=a[d].srcset?'srcset="'+a[d].srcset+'"':"";e+='<img width="'+a[d].width+'" height="'+a[d].height+'" src="'+a[d].src+'" class="'+a[d].class+'" alt="'+a[d].alt+'" title="'+a[d].title+'" data-caption="'+a[d].data_caption+'" data-src="'+a[d].data_src+'"  data-large_image="'+a[d].data_large_image+'" data-large_image_width="'+a[d].data_large_image_width+'" data-large_image_height="'+a[d].data_large_image_height+'" '+f+' sizes="'+a[d].sizes+'" />',h()||(e+="</a>"),e+="</figure></div>",c.append(e)}}},a(document).ready(function(){woodmartThemeModule.swatchesVariations()})}(jQuery);